<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma 2D Estilo Mario</title>
  <style>
    body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background-color: #87CEEB; }
    canvas { display: block; margin: 0 auto; background-color: #A9A9A9; }
    #game-container { position: absolute; top: 0; left: 0; right: 0; bottom: 0; }
  </style>
</head>
<body>
  <div id="game-container"></div>
  <script>
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    document.getElementById('game-container').appendChild(canvas);
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;// Personagem
const player = { x: 50, y: canvas.height - 120, width: 50, height: 50, speed: 5, dx: 0, dy: 0, gravity: 0.8, jumpPower: -15, grounded: false };
let keys = { left: false, right: false, space: false };

// Blocos
const groundHeight = 30;
const blocks = [];
for (let i = 0; i < canvas.width; i += 100) {
  blocks.push({ x: i, y: canvas.height - groundHeight, width: 100, height: groundHeight });
}

// Inimigos
const enemies = [{ x: 300, y: canvas.height - 120, width: 50, height: 50, speed: 2, direction: 1 }];

// Funções de movimento
function movePlayer() {
  if (keys.left) player.dx = -player.speed;
  if (keys.right) player.dx = player.speed;
  if (!keys.left && !keys.right) player.dx = 0;
  player.x += player.dx;

  if (player.y + player.height < canvas.height - groundHeight) {
    player.dy += player.gravity;
    player.grounded = false;
  } else {
    player.dy = 0;
    player.y = canvas.height - player.height - groundHeight;
    player.grounded = true;
  }
  player.y += player.dy;

  if (keys.space && player.grounded) { player.dy = player.jumpPower; }
}

// Desenho dos elementos
function drawPlayer() {
  ctx.fillStyle = 'blue';
  ctx.fillRect(player.x, player.y, player.width, player.height);
}

function drawBlocks() {
  ctx.fillStyle = 'green';
  blocks.forEach(block => {
    ctx.fillRect(block.x, block.y, block.width, block.height);
  });
}

function drawEnemies() {
  ctx.fillStyle = 'red';
  enemies.forEach(enemy => {
    ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
  });
}

// Função de colisão
function checkCollisions() {
  blocks.forEach(block => {
    if (player.x + player.width > block.x && player.x < block.x + block.width && player.y + player.height > block.y && player.y + player.height < block.y + 10) {
      player.dy = 0;
      player.y = block.y - player.height;
      player.grounded = true;
    }
  });
}

// Atualização do jogo
function update() {
  movePlayer();
  checkCollisions();

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawBlocks();
  drawPlayer();
  drawEnemies();

  requestAnimationFrame(update);
}

// Controle de teclas
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft' || e.key === 'a') keys.left = true;
  if (e.key === 'ArrowRight' || e.key === 'd') keys.right = true;
  if (e.key === ' ' || e.key === 'ArrowUp') keys.space = true;
});

document.addEventListener('keyup', (e) => {
  if (e.key === 'ArrowLeft' || e.key === 'a') keys.left = false;
  if (e.key === 'ArrowRight' || e.key === 'd') keys.right = false;
  if (e.key === ' ' || e.key === 'ArrowUp') keys.space = false;
});

// Iniciar o jogo
update();

  </script>
</body>
</html>